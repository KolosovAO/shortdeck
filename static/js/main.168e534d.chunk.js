(this.webpackJsonpshortdeck=this.webpackJsonpshortdeck||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(7),u=n.n(i),o=(n(13),n(1)),l=n(2),s=function(e){var t=e.card,n=e.onClick,r=e.disabled,c="card card__suite-"+t[1];return r&&(c+=" card__disabled"),a.a.createElement("div",{className:c,onClick:r?void 0:n},t)},f=["c","s","h","d"].reduce((function(e,t){return"6789TJQKA".split("").reverse().forEach((function(n){e.push(n+t)})),e}),[]),d=function(e){var t=e.selectCard,n=e.selected;return a.a.createElement("div",{className:"card-list"},f.map((function(e,r){return a.a.createElement(s,{key:r,card:e,onClick:function(){return t(e)},disabled:n.includes(e)})})))},m=function(e){var t=e.onClick;return a.a.createElement("div",{className:"card card__empty",onClick:t},"#")},v=function(e){var t=e.cards,n=e.selectCard,r=e.className;return a.a.createElement("div",{className:r},t.map((function(e,t){return e?a.a.createElement(s,{key:t,card:e,onClick:function(){return n(t)}}):a.a.createElement(m,{key:t,onClick:function(){return n(t)}})})))},b=function(e){var t=e.hand,n=e.select,r=e.selected,c=2===t.length?"hand__pair":"s"===t[2]?"hand__suited":"hand__offsuite";return a.a.createElement("div",{onClick:function(){return n(t)},className:"hand ".concat(c).concat(r?" hand__selected":"")},t)},h=["A","K","Q","J","T","9","8","7","6"],O=h.map((function(e,t){return h.map((function(n,r){return e===n?e+n:r>t?e+n+"s":n+e+"o"}))})),k=function(e){var t=e.selectHands,n=e.currentHands,r=Object(c.useState)(n),i=Object(l.a)(r,2),u=i[0],o=i[1],s=function(e){u.includes(e)?o(u.filter((function(t){return t!==e}))):o(u.concat(e))};return a.a.createElement("div",{className:"spectre"},O.map((function(e,t){return a.a.createElement("div",{key:t,className:"spectre__row"},e.map((function(e,t){return a.a.createElement(b,{key:t,selected:u.includes(e),select:s,hand:e})})))})),a.a.createElement("button",{onClick:function(){return t(u)}},"SELECT"))},p=(n(14),"6789TJQKA".split("").reduce((function(e,t){return["c","s","h","d"].forEach((function(n){e.push(t+n)})),e}),[])),_=n(5);!function(e){e[e.ROYAL_FLUSH=0]="ROYAL_FLUSH",e[e.STRAIGHT_FLUSH=1]="STRAIGHT_FLUSH",e[e.FOUR_OF_A_KIND=2]="FOUR_OF_A_KIND",e[e.FLUSH=3]="FLUSH",e[e.FULL_HOUSE=4]="FULL_HOUSE",e[e.STRAIGHT=5]="STRAIGHT",e[e.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",e[e.TWO_PAIRS=7]="TWO_PAIRS",e[e.ONE_PAIR=8]="ONE_PAIR",e[e.HIGH_HAND=9]="HIGH_HAND"}(r||(r={}));var E=function(e){14===e[0]&&(e=[].concat(Object(o.a)(e),[5]));var t,n=0,r=1,c=Object(_.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;if(n-1===a){if(5===++r)return a+4}else n!==a&&(r=1);n=a}}catch(i){c.e(i)}finally{c.f()}},j={A:14,K:13,Q:12,J:11,T:10,9:9,8:8,7:7,6:6},S=function(e,t){return e.filter((function(e){return!t.includes(e)}))},H=function(e){return{value:j[e[0]],suit:e[1]}},g=function(e,t){var n,c=[].concat(Object(o.a)(t.map(H)),Object(o.a)(e.map(H))).sort((function(e,t){return t.value-e.value})),a=c.map((function(e){return e.value})),i={s:[],c:[],d:[],h:[]},u={},l=Object(_.a)(c);try{for(l.s();!(n=l.n()).done;){var s=n.value,f=s.suit,d=s.value;i[f].push(d),u[d]=(u[d]||0)+1}}catch(T){l.e(T)}finally{l.f()}for(var m=void 0,v=0,b=Object.values(i);v<b.length;v++){var h=b[v];if(h.length>4){m=h;break}}if(m){var O=E(m);if(O)return 14===O?{combination:r.ROYAL_FLUSH,kicker:[]}:{combination:r.STRAIGHT_FLUSH,kicker:[O]}}var k=[],p=[];for(var j in u){var g=Number(j),A=u[g];if(4===A)return{combination:r.FOUR_OF_A_KIND,kicker:[g,S(a,[g])[0]]};3===A&&k.push(g),2===A&&p.push(g)}if(m)return{combination:r.FLUSH,kicker:m.slice(-5)};if(2===k.length)return{combination:r.FULL_HOUSE,kicker:[k[1],k[0]]};if(k.length&&p.length)return{combination:r.FULL_HOUSE,kicker:[k[0],p[p.length-1]]};var N=E(a);if(N)return{combination:r.STRAIGHT,kicker:[N]};if(k.length)return{combination:r.THREE_OF_A_KIND,kicker:[k[0]].concat(Object(o.a)(S(a,k).slice(0,2)))};if(p.length>1){var R=p.slice(-2);return{combination:r.TWO_PAIRS,kicker:[R[1],R[0],S(a,R)[0]]}}return 1===p.length?{combination:r.ONE_PAIR,kicker:[p[0]].concat(Object(o.a)(S(a,p).slice(0,4)))}:{combination:r.HIGH_HAND,kicker:a.slice(0,5)}},A=["c","s","d","h"],N=A.reduce((function(e,t){return A.forEach((function(n){t!==n&&e.push([t,n])})),e}),[]),R=A.reduce((function(e,t,n){return A.forEach((function(r,c){n<c&&e.push([t,r])})),e}),[]),T=function(e,t,n){var r=0,c=0,a=0;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(5===t.length)return[t];for(var n=p.filter((function(n){return!t.includes(n)&&!e.includes(n)})),r=[t],c=[],a=function(){var e=n.pop();r.forEach((function(t){4===t.length?c.push(t.concat(e)):t.length+n.length>3&&r.push(t.concat(e))}))};n.length;)a();return c}([].concat(Object(o.a)(e),Object(o.a)(t)),n).forEach((function(n){var i=function(e,t,n){var r=g(e,n),c=g(t,n);if(r.combination===c.combination){for(var a=0;a<r.kicker.length;a++){if(r.kicker[a]>c.kicker[a])return 1;if(r.kicker[a]<c.kicker[a])return 2}return 0}return r.combination<c.combination?1:2}(e,t,n);0===i?c++:1===i?r++:a++})),{win:r,tie:c,lose:a,total:r+c+a}},F=function(e,t,n){var r,c=0,a=0,i=0;return(r=t,r.reduce((function(e,t){var n=t.split(""),r=Object(l.a)(n,3),c=r[0],a=r[1],i=r[2];return 2===t.length?e.push.apply(e,Object(o.a)(R.map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return[c+n,a+r]})))):"s"===i?e.push.apply(e,Object(o.a)(A.map((function(e){return[c+e,a+e]})))):e.push.apply(e,Object(o.a)(N.map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return[c+n,a+r]})))),e}),[])).filter((function(t){return!t.includes(e[0])&&!t.includes(e[1])})).forEach((function(t){var r=T(e,t,n),u=r.win,o=r.lose,l=r.tie;c+=u,a+=o,i+=l})),{win:c,tie:i,lose:a,total:c+i+a}},C=function(e){return!!e};var I=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),s=u[0],f=u[1],m=Object(c.useState)(!1),b=Object(l.a)(m,2),h=b[0],O=b[1],p=Object(c.useState)([]),_=Object(l.a)(p,2),E=_[0],j=_[1],S=Object(c.useState)([void 0,void 0,void 0,void 0,void 0]),H=Object(l.a)(S,2),g=H[0],A=H[1],N=Object(c.useState)([void 0,void 0]),R=Object(l.a)(N,2),I=R[0],L=R[1],U=Object(c.useState)([void 0,void 0]),y=Object(l.a)(U,2),w=y[0],D=y[1],K=Object(c.useState)(""),P=Object(l.a)(K,2),G=P[0],J=P[1],x=Object(c.useState)(""),W=Object(l.a)(x,2),B=W[0],Q=W[1],$=Object(c.useRef)(A),Y=Object(c.useRef)(g),M=Object(c.useRef)(0),q=Object(c.useRef)(0),z=I.filter(C),V=w.filter(C),X=[].concat(Object(o.a)(I),Object(o.a)(w),Object(o.a)(g)).filter(Boolean);return a.a.createElement("div",{className:"calculator"},"Player1 ",a.a.createElement("span",{className:"win_percent"},G),a.a.createElement(v,{className:"player",cards:I,selectCard:function(e){r(!0);var t=I.map((function(t,n){return n>=e?void 0:t}));L(t),$.current=L,Y.current=t,q.current=2-e,M.current=e}}),"Player2 ",a.a.createElement("button",{onClick:function(){return O(!h)}},"$$$")," ",a.a.createElement("span",{className:"win_percent"},B),h?a.a.createElement("button",{className:"show_spectre",onClick:function(){return f(!0)}},E.join(",")||"SELECT SPECTRE"):a.a.createElement(v,{className:"player",cards:w,selectCard:function(e){r(!0);var t=w.map((function(t,n){return n>=e?void 0:t}));D(t),$.current=D,Y.current=t,q.current=2-e,M.current=e}}),"BOARD",a.a.createElement(v,{className:"board",selectCard:function(e){r(!0);var t=g.map((function(t,n){return n>=e?void 0:t}));A(t),$.current=A,Y.current=t,q.current=e<3?3-e:1,M.current=e},cards:g}),a.a.createElement("button",{onClick:function(){if(h&&E.length&&2===z.length){var e=F(z,E,g.filter(C)),t=e.win,n=e.tie,r=e.lose,c=e.total;J(String((100*(t/c+n/2/c)).toFixed(2))),Q(String((100*(r/c+n/2/c)).toFixed(2)))}else{if(2!==z.length||2!==V.length)return;var a=T(z,V,g.filter(C)),i=a.win,u=a.tie,o=a.lose,l=a.total;J(String((100*(i/l+u/2/l)).toFixed(2))),Q(String((100*(o/l+u/2/l)).toFixed(2)))}}},"COMPUTE"),n&&a.a.createElement(d,{selected:X,selectCard:function(e){Y.current=Y.current.map((function(t,n){return n===M.current?e:t})),M.current++,$.current(Y.current),q.current--,0===q.current&&r(!1)}}),n&&a.a.createElement("button",{onClick:function(){return r(!1)}},"HIDE CARDLIST"),s&&a.a.createElement(k,{currentHands:E,selectHands:function(e){j(e),f(!1)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.168e534d.chunk.js.map
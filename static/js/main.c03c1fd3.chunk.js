(this.webpackJsonpshortdeck=this.webpackJsonpshortdeck||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(8),o=n.n(i),u=(n(14),n(1)),l=n(2),s=function(e){var t=e.card,n=e.onClick,r=e.disabled,c="card card__suite-"+t[1];return r&&(c+=" card__disabled"),a.a.createElement("div",{className:c,onClick:r?void 0:n},t)},f=["c","s","h","d"].reduce((function(e,t){return"6789TJQKA".split("").reverse().forEach((function(n){e.push(n+t)})),e}),[]),d=function(e){var t=e.selectCard,n=e.selected;return a.a.createElement("div",{className:"card-list"},f.map((function(e,r){return a.a.createElement(s,{key:r,card:e,onClick:function(){return t(e)},disabled:n.includes(e)})})))},m=function(e){var t=e.onClick;return a.a.createElement("div",{className:"card card__empty",onClick:t},"#")},v=function(e){var t=e.cards,n=e.selectCard,r=e.className;return a.a.createElement("div",{className:r},t.map((function(e,t){return e?a.a.createElement(s,{key:t,card:e,onClick:function(){return n(t)}}):a.a.createElement(m,{key:t,onClick:function(){return n(t)}})})))},b=function(e){var t=e.hand,n=e.select,r=e.selected,c=2===t.length?"hand__pair":"s"===t[2]?"hand__suited":"hand__offsuite";return a.a.createElement("div",{onClick:function(){return n(t)},className:"hand ".concat(c).concat(r?" hand__selected":"")},t)},h=["A","K","Q","J","T","9","8","7","6"],O=h.map((function(e,t){return h.map((function(n,r){return e===n?e+n:t>r?n+e+"s":e+n+"o"}))})),p=function(e){var t=e.selectHands,n=e.currentHands,r=Object(c.useState)(n),i=Object(l.a)(r,2),o=i[0],u=i[1],s=function(e){o.includes(e)?u(o.filter((function(t){return t!==e}))):u(o.concat(e))};return a.a.createElement("div",{className:"spectre"},O.map((function(e,t){return a.a.createElement("div",{key:t,className:"spectre__row"},e.map((function(e,t){return a.a.createElement(b,{key:t,selected:o.includes(e),select:s,hand:e})})))})),a.a.createElement("button",{onClick:function(){return t(o)}},"SELECT"))},k=(n(15),n(6)),E=n.n(k),_=n(5),j="6789TJQKA".split("").reduce((function(e,t){return["c","s","h","d"].forEach((function(n){e.push(t+n)})),e}),[]);!function(e){e[e.ROYAL_FLUSH=0]="ROYAL_FLUSH",e[e.STRAIGHT_FLUSH=1]="STRAIGHT_FLUSH",e[e.FOUR_OF_A_KIND=2]="FOUR_OF_A_KIND",e[e.FLUSH=3]="FLUSH",e[e.FULL_HOUSE=4]="FULL_HOUSE",e[e.STRAIGHT=5]="STRAIGHT",e[e.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",e[e.TWO_PAIRS=7]="TWO_PAIRS",e[e.ONE_PAIR=8]="ONE_PAIR",e[e.HIGH_HAND=9]="HIGH_HAND"}(r||(r={}));var S=function(e){14===e[0]&&(e=[].concat(Object(u.a)(e),[5]));var t,n=0,r=1,c=Object(_.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;if(n-1===a){if(5===++r)return a+4}else n!==a&&(r=1);n=a}}catch(i){c.e(i)}finally{c.f()}},g={A:14,K:13,Q:12,J:11,T:10,9:9,8:8,7:7,6:6},H=function(e,t){return e.filter((function(e){return!t.includes(e)}))},A=function(e){return{value:g[e[0]],suit:e[1]}},C=function(e,t){var n,c=[].concat(Object(u.a)(t.map(A)),Object(u.a)(e.map(A))).sort((function(e,t){return t.value-e.value})),a=c.map((function(e){return e.value})),i={s:[],c:[],d:[],h:[]},o={},l=Object(_.a)(c);try{for(l.s();!(n=l.n()).done;){var s=n.value,f=s.suit,d=s.value;i[f].push(d),o[d]=(o[d]||0)+1}}catch(T){l.e(T)}finally{l.f()}for(var m=void 0,v=0,b=Object.values(i);v<b.length;v++){var h=b[v];if(h.length>4){m=h;break}}if(m){var O=S(m);if(O)return 14===O?{combination:r.ROYAL_FLUSH,kicker:[]}:{combination:r.STRAIGHT_FLUSH,kicker:[O]}}var p=[],k=[];for(var E in o){var j=Number(E),g=o[j];if(4===g)return{combination:r.FOUR_OF_A_KIND,kicker:[j,H(a,[j])[0]]};3===g&&p.push(j),2===g&&k.push(j)}if(m)return{combination:r.FLUSH,kicker:m.slice(-5)};if(2===p.length)return{combination:r.FULL_HOUSE,kicker:[p[1],p[0]]};if(p.length&&k.length)return{combination:r.FULL_HOUSE,kicker:[p[0],k[k.length-1]]};var C=S(a);if(C)return{combination:r.STRAIGHT,kicker:[C]};if(p.length)return{combination:r.THREE_OF_A_KIND,kicker:[p[0]].concat(Object(u.a)(H(a,p).slice(0,2)))};if(k.length>1){var N=k.slice(-2);return{combination:r.TWO_PAIRS,kicker:[N[1],N[0],H(a,N)[0]]}}return 1===k.length?{combination:r.ONE_PAIR,kicker:[k[0]].concat(Object(u.a)(H(a,k).slice(0,4)))}:{combination:r.HIGH_HAND,kicker:a.slice(0,5)}},N=["c","s","d","h"],T=N.reduce((function(e,t){return N.forEach((function(n){t!==n&&e.push([t,n])})),e}),[]),R=N.reduce((function(e,t,n){return N.forEach((function(r,c){n<c&&e.push([t,r])})),e}),[]),F=function(e,t,n){var r=0,c=0,a=0;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(5===t.length)return[t];for(var n=j.filter((function(n){return!t.includes(n)&&!e.includes(n)})),r=[t],c=[],a=function(){var e=n.pop();r.forEach((function(t){4===t.length?c.push(t.concat(e)):t.length+n.length>3&&r.push(t.concat(e))}))};n.length;)a();return c}([].concat(Object(u.a)(e),Object(u.a)(t)),n).forEach((function(n){var i=function(e,t,n){var r=C(e,n),c=C(t,n);if(r.combination===c.combination){for(var a=0;a<r.kicker.length;a++){if(r.kicker[a]>c.kicker[a])return 1;if(r.kicker[a]<c.kicker[a])return 2}return 0}return r.combination<c.combination?1:2}(e,t,n);0===i?c++:1===i?r++:a++})),{win:r,tie:c,lose:a,total:r+c+a}},y=function(e,t,n){var r,c=0,a=0,i=0,o=(r=t,r.reduce((function(e,t){var n=t.split(""),r=Object(l.a)(n,3),c=r[0],a=r[1],i=r[2];return 2===t.length?e.push.apply(e,Object(u.a)(R.map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return[c+n,a+r]})))):"s"===i?e.push.apply(e,Object(u.a)(N.map((function(e){return[c+e,a+e]})))):e.push.apply(e,Object(u.a)(T.map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1];return[c+n,a+r]})))),e}),[])).filter((function(t){return!e.includes(t[0])&&!e.includes(t[1])&&!n.includes(t[0])&&!n.includes(t[1])}));return E.a.mark((function t(){var r,u,l,s,f,d,m,v;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(_.a)(o),t.prev=1,r.s();case 3:if((u=r.n()).done){t.next=14;break}return l=u.value,s=F(e,l,n),f=s.win,d=s.lose,m=s.tie,v=(c+=f)+(i+=m)+(a+=d),t.next=12,{win:c,tie:i,lose:a,total:v};case 12:t.next=3;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[1,16,19,22]])}))},I=function(e){return!!e};var L=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),s=o[0],f=o[1],m=Object(c.useState)(!1),b=Object(l.a)(m,2),h=b[0],O=b[1],k=Object(c.useState)(!1),E=Object(l.a)(k,2),_=E[0],j=E[1],S=Object(c.useState)([]),g=Object(l.a)(S,2),H=g[0],A=g[1],C=Object(c.useState)([void 0,void 0,void 0,void 0,void 0]),N=Object(l.a)(C,2),T=N[0],R=N[1],L=Object(c.useState)([void 0,void 0]),U=Object(l.a)(L,2),w=U[0],x=U[1],D=Object(c.useState)([void 0,void 0]),P=Object(l.a)(D,2),K=P[0],G=P[1],J=Object(c.useState)(""),W=Object(l.a)(J,2),B=W[0],Q=W[1],Y=Object(c.useState)(""),$=Object(l.a)(Y,2),M=$[0],q=$[1],z=Object(c.useRef)(R),V=Object(c.useRef)(T),X=Object(c.useRef)(0),Z=Object(c.useRef)(0),ee=w.filter(I),te=K.filter(I),ne=[].concat(Object(u.a)(w),Object(u.a)(K),Object(u.a)(T)).filter(Boolean);return a.a.createElement("div",{className:"calculator"},"Player1 ",a.a.createElement("span",{className:"win_percent"},B),a.a.createElement(v,{className:"player",cards:w,selectCard:function(e){f(!0);var t=w.map((function(t,n){return n>=e?void 0:t}));x(t),z.current=x,V.current=t,Z.current=2-e,X.current=e}}),"Player2 ",a.a.createElement("button",{onClick:function(){return j(!_)}},"$$$")," ",a.a.createElement("span",{className:"win_percent"},M),_?a.a.createElement("button",{className:"show_spectre",onClick:function(){return O(!0)}},H.join(",")||"SELECT SPECTRE"):a.a.createElement(v,{className:"player",cards:K,selectCard:function(e){f(!0);var t=K.map((function(t,n){return n>=e?void 0:t}));G(t),z.current=G,V.current=t,Z.current=2-e,X.current=e}}),"BOARD",a.a.createElement(v,{className:"board",selectCard:function(e){f(!0);var t=T.map((function(t,n){return n>=e?void 0:t}));R(t),z.current=R,V.current=t,Z.current=e<3?3-e:1,X.current=e},cards:T}),n?a.a.createElement("div",{className:"loader"},"Loading..."):a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:function(){if(_&&H.length&&2===ee.length){var e=y(ee,H,T.filter(I))();r(!0),function t(){return setTimeout((function(){var n=e.next();if(n.done)r(!1);else{var c=n.value,a=c.win,i=c.tie,o=c.lose,u=c.total;Q(String((100*(a/u+i/2/u)).toFixed(2))),q(String((100*(o/u+i/2/u)).toFixed(2))),t()}}),5)}()}else{if(2!==ee.length||2!==te.length)return;r(!0),setTimeout((function(){var e=F(ee,te,T.filter(I)),t=e.win,n=e.tie,c=e.lose,a=e.total;Q(String((100*(t/a+n/2/a)).toFixed(2))),q(String((100*(c/a+n/2/a)).toFixed(2))),r(!1)}))}}},"COMPUTE"),a.a.createElement("button",{onClick:function(){var e=_&&H.length&&2===ee.length?"".concat(ee.join("")," vs ").concat(H.join(", ")," - ").concat(B):2===ee.length||2===te.length?"".concat(ee.join("")," vs ").concat(te.join("")," - ").concat(B):null;if(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},"COPY")),s&&a.a.createElement(d,{selected:ne,selectCard:function(e){V.current=V.current.map((function(t,n){return n===X.current?e:t})),X.current++,z.current(V.current),Z.current--,0===Z.current&&f(!1)}}),s&&a.a.createElement("button",{onClick:function(){return f(!1)}},"HIDE CARDLIST"),h&&a.a.createElement(p,{currentHands:H,selectHands:function(e){A(e),O(!1)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.c03c1fd3.chunk.js.map
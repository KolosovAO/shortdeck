(this.webpackJsonpshortdeck=this.webpackJsonpshortdeck||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(9),u=n.n(i),o=(n(15),n(1)),s=n(3),d=n(2),l={d:"\u2666",h:"\u2665",s:"\u2660",c:"\u2663"},f=function(e){var t=e.card,n=e.onClick,r=e.disabled,c="card card__suite-"+t[1];return r&&(c+=" card__disabled"),a.a.createElement("div",{className:c,onClick:r?void 0:n},a.a.createElement("div",{className:"card__top"},t[0]),a.a.createElement("div",{className:"card__bottom"},l[t[1]]))},m=["c","s","h","d"].reduce((function(e,t){return"6789TJQKA".split("").reverse().forEach((function(n){e.push(n+t)})),e}),[]),p=function(e){var t=e.selectCard,n=e.selected;return a.a.createElement("div",{className:"card-list"},m.map((function(e,r){return a.a.createElement(f,{key:r,card:e,onClick:function(){return t(e)},disabled:n.includes(e)})})))},v=function(e){var t=e.onClick,n="card card__empty";return e.selected&&(n+=" card__selected"),a.a.createElement("div",{className:n,onClick:t})},h=function(e){var t=e.cards,n=e.selectCard,r=e.className,c=e.selected;return a.a.createElement("div",{className:r},t.map((function(e,t){return e?a.a.createElement(f,{key:t,card:e,onClick:function(){return n(t)}}):a.a.createElement(v,{selected:t===c,key:t,onClick:function(){return n(t)}})})))},b=function(e){var t=e.hand,n=e.select,r=e.selected,c=2===t.length?"hand__pair":"s"===t[2]?"hand__suited":"hand__offsuite";return a.a.createElement("div",{onClick:function(){return n(t)},className:"hand ".concat(c).concat(r?" hand__selected":"")},t)},_=["A","K","Q","J","T","9","8","7","6"],O=_.map((function(e,t){return _.map((function(n,r){return e===n?e+n:t>r?n+e+"s":e+n+"o"}))})),E=function(e){var t=e.selectHands,n=e.current_hands,r=function(e){n.includes(e)?t(n.filter((function(t){return t!==e}))):t(n.concat(e))};return a.a.createElement("div",{className:"spectre"},O.map((function(e,t){return a.a.createElement("div",{key:t,className:"spectre__row"},e.map((function(e,t){return a.a.createElement(b,{key:t,selected:n.includes(e),select:r,hand:e})})))})))},k=(n(16),n(7)),j=n.n(k),N=n(6),g="6789TJQKA".split("").reduce((function(e,t){return["c","s","h","d"].forEach((function(n){e.push(t+n)})),e}),[]);!function(e){e[e.ROYAL_FLUSH=0]="ROYAL_FLUSH",e[e.STRAIGHT_FLUSH=1]="STRAIGHT_FLUSH",e[e.FOUR_OF_A_KIND=2]="FOUR_OF_A_KIND",e[e.FLUSH=3]="FLUSH",e[e.FULL_HOUSE=4]="FULL_HOUSE",e[e.STRAIGHT=5]="STRAIGHT",e[e.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",e[e.TWO_PAIRS=7]="TWO_PAIRS",e[e.ONE_PAIR=8]="ONE_PAIR",e[e.HIGH_HAND=9]="HIGH_HAND"}(r||(r={}));var S=function(e){14===e[0]&&(e=[].concat(Object(d.a)(e),[5]));var t,n=0,r=1,c=Object(N.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;if(n-1===a){if(5===++r)return a+4}else n!==a&&(r=1);n=a}}catch(i){c.e(i)}finally{c.f()}},A={A:14,K:13,Q:12,J:11,T:10,9:9,8:8,7:7,6:6},H=function(e,t){return e.filter((function(e){return!t.includes(e)}))},x=function(e){return{value:A[e[0]],suit:e[1]}},y=function(e,t){var n=e.map((function(e){return function(e,t){var n,c=[].concat(Object(d.a)(t.map(x)),Object(d.a)(e.map(x))).sort((function(e,t){return t.value-e.value})),a=c.map((function(e){return e.value})),i={s:[],c:[],d:[],h:[]},u={},o=Object(N.a)(c);try{for(o.s();!(n=o.n()).done;){var s=n.value,l=s.suit,f=s.value;i[l].push(f),u[f]=(u[f]||0)+1}}catch(y){o.e(y)}finally{o.f()}for(var m=void 0,p=0,v=Object.values(i);p<v.length;p++){var h=v[p];if(h.length>4){m=h;break}}if(m){var b=S(m);if(b)return 14===b?{combination:r.ROYAL_FLUSH,kicker:[]}:{combination:r.STRAIGHT_FLUSH,kicker:[b]}}var _=[],O=[];for(var E in u){var k=Number(E),j=u[k];if(4===j)return{combination:r.FOUR_OF_A_KIND,kicker:[k,H(a,[k])[0]]};3===j&&_.push(k),2===j&&O.push(k)}if(m)return{combination:r.FLUSH,kicker:m.slice(-5)};if(2===_.length)return{combination:r.FULL_HOUSE,kicker:[_[1],_[0]]};if(_.length&&O.length)return{combination:r.FULL_HOUSE,kicker:[_[0],O[O.length-1]]};var g=S(a);if(g)return{combination:r.STRAIGHT,kicker:[g]};if(_.length)return{combination:r.THREE_OF_A_KIND,kicker:[_[0]].concat(Object(d.a)(H(a,_).slice(0,2)))};if(O.length>1){var A=O.slice(-2);return{combination:r.TWO_PAIRS,kicker:[A[1],A[0],H(a,A)[0]]}}return 1===O.length?{combination:r.ONE_PAIR,kicker:[O[0]].concat(Object(d.a)(H(a,O).slice(0,4)))}:{combination:r.HIGH_HAND,kicker:a.slice(0,5)}}(e,t)})),c=[],a=10;if(n.forEach((function(e,t){var n=e.combination,r=e.kicker;n<a?(a=n,c=[{index:t,kicker:r}]):n===a&&c.push({index:t,kicker:r})})),1===c.length)return[c[0].index];var i=[],u=[-1/0];return c.forEach((function(e){for(var t=e.kicker,n=e.index,r=0;r<t.length;r++){if(t[r]>u[r]){u=t,i=[n];break}if(t[r]!==u[r])break;r===u.length-1&&i.push(n)}})),i},C=["c","s","d","h"],T=C.reduce((function(e,t){return C.forEach((function(n){t!==n&&e.push([t,n])})),e}),[]),F=C.reduce((function(e,t,n){return C.forEach((function(r,c){n<c&&e.push([t,r])})),e}),[]),R=function(e){var t=e.reduce((function(e,t){return e-t}),100)/e.length;return e.map((function(e){return Number((e+t).toFixed(2))}))},I=function(e,t){var n=e.flat(),r=Array(e.length).fill(0),c=0;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(5===t.length)return[t];for(var n=g.filter((function(n){return!t.includes(n)&&!e.includes(n)})),r=[t],c=[],a=function(){var e=n.pop();r.forEach((function(t){4===t.length?c.push(t.concat(e)):t.length+n.length>3&&r.push(t.concat(e))}))};n.length;)a();return c}(n,t).forEach((function(t){c+=1;var n=y(e,t);n.forEach((function(e){r[e]+=1/n.length}))})),{wins:r,total:c}},L=function(e,t,n){var r=e.flat().concat(n),c=function(e){return e.reduce((function(e,t){var n=t.split(""),r=Object(s.a)(n,3),c=r[0],a=r[1],i=r[2];return 2===t.length?e.push.apply(e,Object(d.a)(F.map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return[c+n,a+r]})))):"s"===i?e.push.apply(e,Object(d.a)(C.map((function(e){return[c+e,a+e]})))):e.push.apply(e,Object(d.a)(T.map((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return[c+n,a+r]})))),e}),[])}(t).filter((function(e){return!r.includes(e[0])&&!r.includes(e[1])}));return j.a.mark((function t(){var r,a,i,u,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Array(e.length+1).fill(0),a=0,i=Object(N.a)(c),t.prev=3,o=j.a.mark((function t(){var c,i,o,s,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=u.value,i=I([].concat(Object(d.a)(e),[c]),n),o=i.wins,s=i.total,r=r.map((function(e,t){return e+o[t]})),a+=s,l=r.map((function(e){return Number((e/a*100).toFixed(2))})),t.next=7,R(l);case 7:case"end":return t.stop()}}),t)})),i.s();case 6:if((u=i.n()).done){t.next=10;break}return t.delegateYield(o(),"t0",8);case 8:t.next=6;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(3),i.e(t.t1);case 15:return t.prev=15,i.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])}))},U=[{mode:"hand",is_hero:!0,hand:[void 0,void 0],current_card_index:-1}].concat(Object(d.a)(Array(4).fill(0).map((function(){return{mode:"hand",hand:[void 0,void 0],current_card_index:-1}})))),w=function(e){return!!e};var P=function(){var e=Object(c.useRef)(void 0),t=Object(c.useState)(U),n=Object(s.a)(t,2),r=n[0],i=n[1],u=Object(c.useState)(!1),d=Object(s.a)(u,2),l=d[0],f=d[1],m=Object(c.useState)(!1),v=Object(s.a)(m,2),b=v[0],_=v[1],O=Object(c.useState)(!1),k=Object(s.a)(O,2),j=k[0],N=k[1],g=Object(c.useState)(0),S=Object(s.a)(g,2),A=S[0],H=S[1],x=Object(c.useState)([void 0,void 0,void 0,void 0,void 0]),y=Object(s.a)(x,2),C=y[0],T=y[1],F=Object(c.useState)(-1),P=Object(s.a)(F,2),D=P[0],K=P[1],G=r[A],J=function(e){return function(t){var n=r[e];H(e),K(-1),"hand"===n.mode&&(i(r.map((function(r,c){return c===e?Object(o.a)(Object(o.a)({},n),{},{hand:0===t?[void 0,void 0]:[n.hand[0],void 0],current_card_index:t}):Object(o.a)(Object(o.a)({},r),{},{current_card_index:-1})}))),_(!0))}},Y=r.map((function(e,t){return e.is_hero&&"hand"===e.mode?a.a.createElement("div",{key:t,className:"player"},"Hero",void 0!==e.percent&&a.a.createElement("span",{className:"win_percent"},e.percent,"%"),a.a.createElement(h,{className:"player_cards",selected:e.current_card_index,cards:e.hand,selectCard:J(t)})):a.a.createElement("div",{key:t,className:"player"},"Player",t+1,a.a.createElement("button",{className:"mode-toggler",onClick:function(){return function(e){var t=r.findIndex((function(e){return"spectre"===e.mode}));i(r.map((function(n,r){return r===t?{mode:"hand",hand:[void 0,void 0],current_card_index:-1}:r===e?{mode:"spectre",spectre:[]}:n})))}(t)}},"%"),void 0!==e.percent&&a.a.createElement("span",{className:"win_percent"},e.percent,"%"),"spectre"===e.mode?a.a.createElement("button",{className:"show_spectre",onClick:function(){return H(t),i(r.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{current_card_index:-1})}))),_(!1),void N(!0)}},e.spectre.join(", ")||"SELECT SPECTRE"):a.a.createElement(h,{className:"player_cards",selected:e.current_card_index,cards:e.hand,selectCard:J(t)}))})),Q=r.reduce((function(e,t){return"hand"===t.mode?e.concat(t.hand.filter(w)):e}),C.filter(w));return a.a.createElement("div",{className:"calculator",onClick:function(e){b&&!e.target.closest(".card-list")?(_(!1),i(r.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{current_card_index:-1})}))),D>-1&&K(-1)):j&&!e.target.closest(".spectre")&&N(!1)}},a.a.createElement("div",{className:"left-row"},Y,a.a.createElement("div",{className:"board"},"BOARD",a.a.createElement(h,{selected:D,className:"board_cards",selectCard:function(e){i(r.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{current_card_index:-1})}))),T(C.map((function(t,n){return n<e?t:void 0}))),K(e),_(!0)},cards:C})),l?a.a.createElement("div",{className:"loader"},"Calculating...",a.a.createElement("button",{className:"action-button",onClick:function(){f(!1),clearTimeout(e.current),e.current=void 0}},"STOP")):a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"action-button",onClick:function(){var t=[],n={},c=void 0,a=void 0;if(r.forEach((function(e,r){"spectre"===e.mode&&e.spectre.length?(a=r,c=e.spectre):"hand"===e.mode&&e.hand[0]&&e.hand[1]&&(t.push(e.hand),n[r]=0)})),c){if(t.length<1)return;var u=L(t,c,C.filter(w))();f(!0),function t(c){c||e.current?e.current=window.setTimeout((function(){var e=u.next();if(e.done)f(!1);else{var c=0;for(var s in n)n[s]=e.value[c],c++;i(r.map((function(t,r){return void 0!==n[r]?Object(o.a)(Object(o.a)({},t),{},{percent:n[r]}):r===a?Object(o.a)(Object(o.a)({},t),{},{percent:e.value[e.value.length-1]}):Object(o.a)(Object(o.a)({},t),{},{percent:void 0})}))),t()}}),10):f(!1)}(!0)}else{if(t.length<2)return;f(!0),e.current=window.setTimeout((function(){var e=function(e,t){var n=I(e,t),r=n.wins,c=n.total,a=r.map((function(e){return Number((e/c*100).toFixed(2))}));return R(a)}(t,C.filter(w)),c=0;for(var a in n)n[a]=e[c],c++;i(r.map((function(e,t){return void 0!==n[t]?Object(o.a)(Object(o.a)({},e),{},{percent:n[t]}):Object(o.a)(Object(o.a)({},e),{},{percent:void 0})}))),f(!1)}),10)}}},"COMPUTE"),a.a.createElement("button",{className:"action-button",onClick:function(){var e=r.reduce((function(e,t){return"hand"===t.mode&&t.hand[0]&&t.hand[1]?(e.hands.push(t.hand.join("")),e.percents.push(String(t.percent))):"spectre"===t.mode&&t.spectre.length&&(e.hands.push(t.spectre.join(",")),e.percents.push(String(t.percent))),e}),{hands:[],percents:[]}),t=e.hands,n=e.percents;if(t.length){var c=t.join(" vs ")+" - "+n.join(" vs "),a=C.filter(w);a.length&&(c=a.join("")+" : "+c);var i=document.createElement("textarea");i.value=c,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-9999px",document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}}},"COPY"),a.a.createElement("button",{className:"action-button",onClick:function(){return i(U)}},"CLEAR"))),a.a.createElement("div",{className:"right-row"},b&&a.a.createElement(p,{selected:Q,selectCard:function(e){if(-1!==D)return T(C.map((function(t,n){return n===D?e:t}))),void(D>1?_(!1):K(D+1));var t=G.current_card_index;i(r.map((function(n,r){return r===A?Object(o.a)(Object(o.a)({},G),{},{hand:0===t?[e,void 0]:[G.hand[0],e],current_card_index:t+1}):n}))),1===t&&_(!1)}}),j&&"spectre"===G.mode&&a.a.createElement(E,{current_hands:G.spectre,selectHands:function(e){i(r.map((function(t,n){return n===A?{mode:"spectre",spectre:e}:t})))}})))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(P,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.255bab5e.chunk.js.map
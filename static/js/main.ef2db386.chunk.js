(this.webpackJsonpshortdeck=this.webpackJsonpshortdeck||[]).push([[0],{10:function(e,n,t){e.exports=t(18)},15:function(e,n,t){},16:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var r,c=t(0),a=t.n(c),i=t(9),u=t.n(i),o=(t(15),t(1)),s=t(3),d=t(2),l={d:"\u2666",h:"\u2665",s:"\u2660",c:"\u2663"},f=function(e){var n=e.card,t=e.onClick,r=e.disabled,c="card card__suite-"+n[1];return r&&(c+=" card__disabled"),a.a.createElement("div",{className:c,onClick:r?void 0:t},a.a.createElement("div",{className:"card__top"},n[0]),a.a.createElement("div",{className:"card__bottom"},l[n[1]]))},m=["c","s","h","d"].reduce((function(e,n){return"6789TJQKA".split("").reverse().forEach((function(t){e.push(t+n)})),e}),[]),p=function(e){var n=e.selectCard,t=e.selected;return a.a.createElement("div",{className:"card-list"},m.map((function(e,r){return a.a.createElement(f,{key:r,card:e,onClick:function(){return n(e)},disabled:t.includes(e)})})))},h=function(e){var n=e.onClick,t="card card__empty";return e.selected&&(t+=" card__selected"),a.a.createElement("div",{className:t,onClick:n})},v=function(e){var n=e.cards,t=e.selectCard,r=e.className,c=e.selected;return a.a.createElement("div",{className:r},n.map((function(e,n){return e?a.a.createElement(f,{key:n,card:e,onClick:function(){return t(n)}}):a.a.createElement(h,{selected:n===c,key:n,onClick:function(){return t(n)}})})))},_=function(e){var n=e.hand,t=e.select,r=e.selected,c=2===n.length?"hand__pair":"s"===n[2]?"hand__suited":"hand__offsuite";return a.a.createElement("div",{onClick:function(){return t(n)},className:"hand ".concat(c).concat(r?" hand__selected":"")},n)},b=["A","K","Q","J","T","9","8","7","6"],O=b.map((function(e,n){return b.map((function(t,r){return e===t?e+t:n>r?t+e+"s":e+t+"o"}))})),E=function(e){var n=e.selectHands,t=e.current_hands,r=function(e){t.includes(e)?n(t.filter((function(n){return n!==e}))):n(t.concat(e))};return a.a.createElement("div",{className:"spectre"},O.map((function(e,n){return a.a.createElement("div",{key:n,className:"spectre__row"},e.map((function(e,n){return a.a.createElement(_,{key:n,selected:t.includes(e),select:r,hand:e})})))})))},k=(t(16),t(7)),j=t.n(k),N=t(6),g="6789TJQKA".split("").reduce((function(e,n){return["c","s","h","d"].forEach((function(t){e.push(n+t)})),e}),[]);!function(e){e[e.ROYAL_FLUSH=0]="ROYAL_FLUSH",e[e.STRAIGHT_FLUSH=1]="STRAIGHT_FLUSH",e[e.FOUR_OF_A_KIND=2]="FOUR_OF_A_KIND",e[e.FLUSH=3]="FLUSH",e[e.FULL_HOUSE=4]="FULL_HOUSE",e[e.STRAIGHT=5]="STRAIGHT",e[e.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",e[e.TWO_PAIRS=7]="TWO_PAIRS",e[e.ONE_PAIR=8]="ONE_PAIR",e[e.HIGH_HAND=9]="HIGH_HAND"}(r||(r={}));var H=function(e){14===e[0]&&(e=[].concat(Object(d.a)(e),[5]));var n,t=0,r=1,c=Object(N.a)(e);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(t-1===a){if(5===++r)return a+4}else t!==a&&(r=1);t=a}}catch(i){c.e(i)}finally{c.f()}},S={A:14,K:13,Q:12,J:11,T:10,9:9,8:8,7:7,6:6},A=function(e,n){return e.filter((function(e){return!n.includes(e)}))},x=function(e){return{value:S[e[0]],suit:e[1]}},y=function(e,n){var t=e.map((function(e){return function(e,n){var t,c=[].concat(Object(d.a)(n.map(x)),Object(d.a)(e.map(x))).sort((function(e,n){return n.value-e.value})),a=c.map((function(e){return e.value})),i={s:[],c:[],d:[],h:[]},u={},o=Object(N.a)(c);try{for(o.s();!(t=o.n()).done;){var s=t.value,l=s.suit,f=s.value;i[l].push(f),u[f]=(u[f]||0)+1}}catch(y){o.e(y)}finally{o.f()}for(var m=void 0,p=0,h=Object.values(i);p<h.length;p++){var v=h[p];if(v.length>4){m=v;break}}if(m){var _=H(m);if(_)return 14===_?{combination:r.ROYAL_FLUSH,kicker:[]}:{combination:r.STRAIGHT_FLUSH,kicker:[_]}}var b=[],O=[];for(var E in u){var k=Number(E),j=u[k];if(4===j)return{combination:r.FOUR_OF_A_KIND,kicker:[k,A(a,[k])[0]]};3===j&&b.push(k),2===j&&O.push(k)}if(m)return{combination:r.FLUSH,kicker:m.slice(-5)};if(2===b.length)return{combination:r.FULL_HOUSE,kicker:[b[1],b[0]]};if(b.length&&O.length)return{combination:r.FULL_HOUSE,kicker:[b[0],O[O.length-1]]};var g=H(a);if(g)return{combination:r.STRAIGHT,kicker:[g]};if(b.length)return{combination:r.THREE_OF_A_KIND,kicker:[b[0]].concat(Object(d.a)(A(a,b).slice(0,2)))};if(O.length>1){var S=O.slice(-2);return{combination:r.TWO_PAIRS,kicker:[S[1],S[0],A(a,S)[0]]}}return 1===O.length?{combination:r.ONE_PAIR,kicker:[O[0]].concat(Object(d.a)(A(a,O).slice(0,4)))}:{combination:r.HIGH_HAND,kicker:a.slice(0,5)}}(e,n)})),c=[],a=10;t.forEach((function(e,n){var t=e.combination,r=e.kicker;t<a?(a=t,c=[{index:n,kicker:r}]):t===a&&c.push({index:n,kicker:r})}));var i=[],u=[-1/0];return c.forEach((function(e){for(var n=e.kicker,t=e.index,r=0;r<n.length;r++){if(n[r]>u[r]){u=n,i=[t];break}if(n[r]!==u[r])break;r===u.length-1&&i.push(t)}})),i},T=["c","s","d","h"],C=T.reduce((function(e,n){return T.forEach((function(t){n!==t&&e.push([n,t])})),e}),[]),F=T.reduce((function(e,n,t){return T.forEach((function(r,c){t<c&&e.push([n,r])})),e}),[]),I=function(e){var n=e.reduce((function(e,n){return e-n}),100)/e.length;return e.map((function(e){return Number((e+n).toFixed(2))}))},R=function(e,n){var t=e.flat(),r=Array(e.length).fill(0),c=0;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(5===n.length)return[n];for(var t=g.filter((function(t){return!n.includes(t)&&!e.includes(t)})),r=[n],c=[],a=function(){var e=t.pop();r.forEach((function(n){4===n.length?c.push(n.concat(e)):n.length+t.length>3&&r.push(n.concat(e))}))};t.length;)a();return c}(t,n).forEach((function(n){c+=1;var t=y(e,n);t.forEach((function(e){r[e]+=1/t.length}))})),{wins:r,total:c}},L=function(e,n,t){var r=e.flat().concat(t),c=function(e){return e.reduce((function(e,n){var t=n.split(""),r=Object(s.a)(t,3),c=r[0],a=r[1],i=r[2];return 2===n.length?e.push.apply(e,Object(d.a)(F.map((function(e){var n=Object(s.a)(e,2),t=n[0],r=n[1];return[c+t,a+r]})))):"s"===i?e.push.apply(e,Object(d.a)(T.map((function(e){return[c+e,a+e]})))):e.push.apply(e,Object(d.a)(C.map((function(e){var n=Object(s.a)(e,2),t=n[0],r=n[1];return[c+t,a+r]})))),e}),[])}(n).filter((function(e){return!r.includes(e[0])&&!r.includes(e[1])}));return j.a.mark((function n(){var r,a,i,u,o;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Array(e.length+1).fill(0),a=0,i=Object(N.a)(c),n.prev=3,o=j.a.mark((function n(){var c,i,o,s,l;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=u.value,i=R([].concat(Object(d.a)(e),[c]),t),o=i.wins,s=i.total,r=r.map((function(e,n){return e+o[n]})),a+=s,l=r.map((function(e){return Number((e/a*100).toFixed(2))})),n.next=7,I(l);case 7:case"end":return n.stop()}}),n)})),i.s();case 6:if((u=i.n()).done){n.next=10;break}return n.delegateYield(o(),"t0",8);case 8:n.next=6;break;case 10:n.next=15;break;case 12:n.prev=12,n.t1=n.catch(3),i.e(n.t1);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[3,12,15,18]])}))},U=[{mode:"hand",is_hero:!0,hand:[void 0,void 0],current_card_index:-1}].concat(Object(d.a)(Array(4).fill(0).map((function(){return{mode:"hand",hand:[void 0,void 0],current_card_index:-1}})))),w=function(e){return!!e};var D=function(){var e=Object(c.useState)(U),n=Object(s.a)(e,2),t=n[0],r=n[1],i=Object(c.useState)(!1),u=Object(s.a)(i,2),d=u[0],l=u[1],f=Object(c.useState)(!1),m=Object(s.a)(f,2),h=m[0],_=m[1],b=Object(c.useState)(!1),O=Object(s.a)(b,2),k=O[0],j=O[1],N=Object(c.useState)(0),g=Object(s.a)(N,2),H=g[0],S=g[1],A=Object(c.useState)([void 0,void 0,void 0,void 0,void 0]),x=Object(s.a)(A,2),y=x[0],T=x[1],C=Object(c.useState)(-1),F=Object(s.a)(C,2),D=F[0],K=F[1],P=t[H],G=function(e){return function(n){var c=t[e];S(e),K(-1),"hand"===c.mode&&(r(t.map((function(t,r){return r===e?Object(o.a)(Object(o.a)({},c),{},{hand:0===n?[void 0,void 0]:[c.hand[0],void 0],current_card_index:n}):Object(o.a)(Object(o.a)({},t),{},{current_card_index:-1})}))),_(!0))}},J=t.map((function(e,n){return e.is_hero&&"hand"===e.mode?a.a.createElement("div",{key:n,className:"player"},"Hero",void 0!==e.percent&&a.a.createElement("span",{className:"win_percent"},e.percent),a.a.createElement(v,{className:"player_cards",selected:e.current_card_index,cards:e.hand,selectCard:G(n)})):a.a.createElement("div",{key:n,className:"player"},"Player",n+1,a.a.createElement("button",{className:"mode-toggler",onClick:function(){return function(e){var n=t.findIndex((function(e){return"spectre"===e.mode}));r(t.map((function(t,r){return r===n?{mode:"hand",hand:[void 0,void 0],current_card_index:-1}:r===e?{mode:"spectre",spectre:[]}:t})))}(n)}},"%"),void 0!==e.percent&&a.a.createElement("span",{className:"win_percent"},e.percent),"spectre"===e.mode?a.a.createElement("button",{className:"show_spectre",onClick:function(){return S(n),r(t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{current_card_index:-1})}))),_(!1),void j(!0)}},e.spectre.join(", ")||"SELECT SPECTRE"):a.a.createElement(v,{className:"player_cards",selected:e.current_card_index,cards:e.hand,selectCard:G(n)}))})),Y=t.reduce((function(e,n){return"hand"===n.mode?e.concat(n.hand.filter(w)):e}),y.filter(w));return a.a.createElement("div",{className:"calculator",onClick:function(e){h&&!e.target.closest(".card-list")?(_(!1),r(t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{current_card_index:-1})}))),D&&K(-1)):k&&!e.target.closest(".spectre")&&j(!1)}},a.a.createElement("div",{className:"left-row"},J,a.a.createElement("div",{className:"board"},"BOARD",a.a.createElement(v,{selected:D,className:"board_cards",selectCard:function(e){r(t.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{current_card_index:-1})}))),K(e),_(!0)},cards:y})),d?a.a.createElement("div",{className:"loader"},"Loading..."):a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"action-button",onClick:function(){var e=[],n={},c=void 0,a=void 0;if(t.forEach((function(t,r){"spectre"===t.mode&&t.spectre.length?(a=r,c=t.spectre):"hand"===t.mode&&t.hand[0]&&t.hand[1]&&(e.push(t.hand),n[r]=0)})),c){if(e.length<1)return;var i=L(e,c,y.filter(w))();l(!0),function e(){return setTimeout((function(){var c=i.next();if(c.done)l(!1);else{var u=0;for(var s in n)n[s]=c.value[u],u++;r(t.map((function(e,t){return void 0!==n[t]?Object(o.a)(Object(o.a)({},e),{},{percent:n[t]}):t===a?Object(o.a)(Object(o.a)({},e),{},{percent:c.value[c.value.length-1]}):e}))),e()}}),5)}()}else{if(e.length<2)return;l(!0),setTimeout((function(){var c=function(e,n){var t=R(e,n),r=t.wins,c=t.total,a=r.map((function(e){return Number((e/c*100).toFixed(2))}));return I(a)}(e,y.filter(w)),a=0;for(var i in n)n[i]=c[a],a++;r(t.map((function(e,t){return n[t]?Object(o.a)(Object(o.a)({},e),{},{percent:n[t]}):e}))),l(!1)}))}}},"COMPUTE"),a.a.createElement("button",{className:"action-button",onClick:function(){var e=t.reduce((function(e,n){return"hand"===n.mode&&n.hand[0]&&n.hand[1]?(e.hands.push(n.hand.join("")),e.percents.push(String(n.percent))):"spectre"===n.mode&&n.spectre.length&&(e.hands.push(n.spectre.join(",")),e.percents.push(String(n.percent))),e}),{hands:[],percents:[]}),n=e.hands,r=e.percents;if(n.length){var c=document.createElement("textarea");c.value=n.join(" vs ")+" - "+r.join(" vs "),c.setAttribute("readonly",""),c.style.position="absolute",c.style.left="-9999px",document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c)}}},"COPY"))),a.a.createElement("div",{className:"right-row"},h&&a.a.createElement(p,{selected:Y,selectCard:function(e){if(-1!==D)return T(y.map((function(n,t){return t===D?e:n}))),void(D>1?_(!1):K(D+1));var n=P.current_card_index;r(t.map((function(t,r){return r===H?Object(o.a)(Object(o.a)({},P),{},{hand:0===n?[e,void 0]:[P.hand[0],e],current_card_index:n+1}):t}))),1===n&&_(!1)}}),k&&"spectre"===P.mode&&a.a.createElement(E,{current_hands:P.spectre,selectHands:function(e){r(t.map((function(n,t){return t===H?{mode:"spectre",spectre:e}:n})))}})))};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(D,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.ef2db386.chunk.js.map
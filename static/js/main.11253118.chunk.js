(this.webpackJsonpshortdeck=this.webpackJsonpshortdeck||[]).push([[0],{10:function(e,n,t){e.exports=t(18)},15:function(e,n,t){},16:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var r,a=t(0),c=t.n(a),i=t(9),o=t.n(i),u=(t(15),t(1)),s=t(3),d=t(2),l={d:"\u2666",h:"\u2665",s:"\u2660",c:"\u2663"},f=function(e){var n=e.card,t=e.onClick,r=e.disabled,a="card card__suite-"+n[1];return r&&(a+=" card__disabled"),c.a.createElement("div",{className:a,onClick:r?void 0:t},c.a.createElement("div",{className:"card__top"},n[0]),c.a.createElement("div",{className:"card__bottom"},l[n[1]]))},m=["c","s","h","d"].reduce((function(e,n){return"6789TJQKA".split("").reverse().forEach((function(t){e.push(t+n)})),e}),[]),h=function(e){var n=e.selectCard,t=e.selected;return c.a.createElement("div",{className:"card-list"},m.map((function(e,r){return c.a.createElement(f,{key:r,card:e,onClick:function(){return n(e)},disabled:t.includes(e)})})))},p=function(e){var n=e.onClick,t="card card__empty";return e.selected&&(t+=" card__selected"),c.a.createElement("div",{className:t,onClick:n})},v=function(e){var n=e.cards,t=e.selectCard,r=e.className,a=e.selected;return c.a.createElement("div",{className:r},n.map((function(e,n){return e?c.a.createElement(f,{key:n,card:e,onClick:function(){return t(n)}}):c.a.createElement(p,{selected:n===a,key:n,onClick:function(){return t(n)}})})))},_=function(e){var n=e.hand,t=e.select,r=e.selected,a=2===n.length?"hand__pair":"s"===n[2]?"hand__suited":"hand__offsuite";return c.a.createElement("div",{onClick:function(){return t(n)},className:"hand ".concat(a).concat(r?" hand__selected":"")},n)},b=["A","K","Q","J","T","9","8","7","6"],O=b.map((function(e,n){return b.map((function(t,r){return e===t?e+t:n>r?t+e+"s":e+t+"o"}))})),k=function(e){var n=e.selectHands,t=e.current_hands,r=function(e){t.includes(e)?n(t.filter((function(n){return n!==e}))):n(t.concat(e))};return c.a.createElement("div",{className:"spectre"},O.map((function(e,n){return c.a.createElement("div",{key:n,className:"spectre__row"},e.map((function(e,n){return c.a.createElement(_,{key:n,selected:t.includes(e),select:r,hand:e})})))})))},E=(t(16),t(7)),j=t.n(E),g=t(6),N="6789TJQKA".split("").reduce((function(e,n){return["c","s","h","d"].forEach((function(t){e.push(n+t)})),e}),[]);!function(e){e[e.ROYAL_FLUSH=0]="ROYAL_FLUSH",e[e.STRAIGHT_FLUSH=1]="STRAIGHT_FLUSH",e[e.FOUR_OF_A_KIND=2]="FOUR_OF_A_KIND",e[e.FLUSH=3]="FLUSH",e[e.FULL_HOUSE=4]="FULL_HOUSE",e[e.STRAIGHT=5]="STRAIGHT",e[e.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",e[e.TWO_PAIRS=7]="TWO_PAIRS",e[e.ONE_PAIR=8]="ONE_PAIR",e[e.HIGH_HAND=9]="HIGH_HAND"}(r||(r={}));var H=function(e){14===e[0]&&(e=[].concat(Object(d.a)(e),[5]));var n,t=0,r=1,a=Object(g.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(t-1===c){if(5===++r)return c+4}else t!==c&&(r=1);t=c}}catch(i){a.e(i)}finally{a.f()}},S={A:14,K:13,Q:12,J:11,T:10,9:9,8:8,7:7,6:6},A=function(e,n){return e.filter((function(e){return!n.includes(e)}))},y=function(e){return{value:S[e[0]],suit:e[1]}},x=function(e,n){var t=e.map((function(e){return function(e,n){var t,a=[].concat(Object(d.a)(n.map(y)),Object(d.a)(e.map(y))).sort((function(e,n){return n.value-e.value})),c=a.map((function(e){return e.value})),i={s:[],c:[],d:[],h:[]},o={},u=Object(g.a)(a);try{for(u.s();!(t=u.n()).done;){var s=t.value,l=s.suit,f=s.value;i[l].push(f),o[f]=(o[f]||0)+1}}catch(x){u.e(x)}finally{u.f()}for(var m=void 0,h=0,p=Object.values(i);h<p.length;h++){var v=p[h];if(v.length>4){m=v;break}}if(m){var _=H(m);if(_)return 14===_?{combination:r.ROYAL_FLUSH,kicker:[]}:{combination:r.STRAIGHT_FLUSH,kicker:[_]}}var b=[],O=[];for(var k in o){var E=Number(k),j=o[E];if(4===j)return{combination:r.FOUR_OF_A_KIND,kicker:[E,A(c,[E])[0]]};3===j&&b.push(E),2===j&&O.push(E)}if(m)return{combination:r.FLUSH,kicker:m.slice(-5)};if(2===b.length)return{combination:r.FULL_HOUSE,kicker:[b[1],b[0]]};if(b.length&&O.length)return{combination:r.FULL_HOUSE,kicker:[b[0],O[O.length-1]]};var N=H(c);if(N)return{combination:r.STRAIGHT,kicker:[N]};if(b.length)return{combination:r.THREE_OF_A_KIND,kicker:[b[0]].concat(Object(d.a)(A(c,b).slice(0,2)))};if(O.length>1){var S=O.slice(-2);return{combination:r.TWO_PAIRS,kicker:[S[1],S[0],A(c,S)[0]]}}return 1===O.length?{combination:r.ONE_PAIR,kicker:[O[0]].concat(Object(d.a)(A(c,O).slice(0,4)))}:{combination:r.HIGH_HAND,kicker:c.slice(0,5)}}(e,n)})),a=[],c=10;t.forEach((function(e,n){var t=e.combination,r=e.kicker;t<c?(c=t,a=[{index:n,kicker:r}]):t===c&&a.push({index:n,kicker:r})}));var i=[],o=[-1/0];return a.forEach((function(e){for(var n=e.kicker,t=e.index,r=0;r<n.length;r++){if(n[r]>o[r]){o=n,i=[t];break}if(n[r]!==o[r])break;r===o.length-1&&i.push(t)}})),i},T=["c","s","d","h"],C=T.reduce((function(e,n){return T.forEach((function(t){n!==t&&e.push([n,t])})),e}),[]),F=T.reduce((function(e,n,t){return T.forEach((function(r,a){t<a&&e.push([n,r])})),e}),[]),I=function(e){var n=e.reduce((function(e,n){return e-n}),100)/e.length;return e.map((function(e){return Number((e+n).toFixed(2))}))},R=function(e,n){var t=e.flat(),r=Array(e.length).fill(0),a=0;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(5===n.length)return[n];for(var t=N.filter((function(t){return!n.includes(t)&&!e.includes(t)})),r=[n],a=[],c=function(){var e=t.pop();r.forEach((function(n){4===n.length?a.push(n.concat(e)):n.length+t.length>3&&r.push(n.concat(e))}))};t.length;)c();return a}(t,n).forEach((function(n){a+=1;var t=x(e,n);t.forEach((function(e){r[e]+=1/t.length}))})),{wins:r,total:a}},L=function(e,n,t){var r=e.flat().concat(t),a=function(e){return e.reduce((function(e,n){var t=n.split(""),r=Object(s.a)(t,3),a=r[0],c=r[1],i=r[2];return 2===n.length?e.push.apply(e,Object(d.a)(F.map((function(e){var n=Object(s.a)(e,2),t=n[0],r=n[1];return[a+t,c+r]})))):"s"===i?e.push.apply(e,Object(d.a)(T.map((function(e){return[a+e,c+e]})))):e.push.apply(e,Object(d.a)(C.map((function(e){var n=Object(s.a)(e,2),t=n[0],r=n[1];return[a+t,c+r]})))),e}),[])}(n).filter((function(e){return!r.includes(e[0])&&!r.includes(e[1])}));return j.a.mark((function n(){var r,c,i,o,u;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Array(e.length+1).fill(0),c=0,i=Object(g.a)(a),n.prev=3,u=j.a.mark((function n(){var a,i,u,s,l;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o.value,i=R([].concat(Object(d.a)(e),[a]),t),u=i.wins,s=i.total,r=r.map((function(e,n){return e+u[n]})),c+=s,l=r.map((function(e){return Number((e/c*100).toFixed(2))})),n.next=7,I(l);case 7:case"end":return n.stop()}}),n)})),i.s();case 6:if((o=i.n()).done){n.next=10;break}return n.delegateYield(u(),"t0",8);case 8:n.next=6;break;case 10:n.next=15;break;case 12:n.prev=12,n.t1=n.catch(3),i.e(n.t1);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[3,12,15,18]])}))},w=[{mode:"hand",is_hero:!0,hand:[void 0,void 0],current_card_index:-1}].concat(Object(d.a)(Array(4).fill(0).map((function(){return{mode:"hand",hand:[void 0,void 0],current_card_index:-1}})))),U=function(e){return!!e};var D=function(){var e=Object(a.useState)(w),n=Object(s.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),d=o[0],l=o[1],f=Object(a.useState)(!1),m=Object(s.a)(f,2),p=m[0],_=m[1],b=Object(a.useState)(!1),O=Object(s.a)(b,2),E=O[0],j=O[1],g=Object(a.useState)(0),N=Object(s.a)(g,2),H=N[0],S=N[1],A=Object(a.useState)([void 0,void 0,void 0,void 0,void 0]),y=Object(s.a)(A,2),x=y[0],T=y[1],C=Object(a.useState)(-1),F=Object(s.a)(C,2),D=F[0],K=F[1],P=t[H],G=function(e){return function(n){var a=t[e];S(e),K(-1),"hand"===a.mode&&(r(t.map((function(t,r){return r===e?Object(u.a)(Object(u.a)({},a),{},{hand:0===n?[void 0,void 0]:[a.hand[0],void 0],current_card_index:n}):Object(u.a)(Object(u.a)({},t),{},{current_card_index:-1})}))),_(!0))}},J=t.map((function(e,n){return e.is_hero&&"hand"===e.mode?c.a.createElement("div",{key:n,className:"player"},"Hero",void 0!==e.percent&&c.a.createElement("span",{className:"win_percent"},e.percent),c.a.createElement(v,{className:"player_cards",selected:e.current_card_index,cards:e.hand,selectCard:G(n)})):c.a.createElement("div",{key:n,className:"player"},"Player",n+1,c.a.createElement("button",{className:"mode-toggler",onClick:function(){return function(e){var n=t.findIndex((function(e){return"spectre"===e.mode}));r(t.map((function(t,r){return r===n?{mode:"hand",hand:[void 0,void 0],current_card_index:-1}:r===e?{mode:"spectre",spectre:[]}:t})))}(n)}},"%"),void 0!==e.percent&&c.a.createElement("span",{className:"win_percent"},e.percent),"spectre"===e.mode?c.a.createElement("button",{className:"show_spectre",onClick:function(){return S(n),r(t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{current_card_index:-1})}))),_(!1),void j(!0)}},e.spectre.join(", ")||"SELECT SPECTRE"):c.a.createElement(v,{className:"player_cards",selected:e.current_card_index,cards:e.hand,selectCard:G(n)}))})),W=t.reduce((function(e,n){return"hand"===n.mode?e.concat(n.hand.filter(U)):e}),x.filter(U));return c.a.createElement("div",{className:"calculator",onClick:function(e){p&&!e.target.closest(".card-list")?(_(!1),r(t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{current_card_index:-1})}))),D&&K(-1)):E&&!e.target.closest(".spectre")&&j(!1)}},c.a.createElement("div",{className:"left-row"},J,c.a.createElement("div",{className:"board"},"BOARD",c.a.createElement(v,{selected:D,className:"board_cards",selectCard:function(e){r(t.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{current_card_index:-1})}))),K(e),_(!0)},cards:x})),d?c.a.createElement("div",{className:"loader"},"Loading..."):c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"action-button",onClick:function(){var e=[],n={},a=void 0,c=void 0;if(t.forEach((function(t,r){"spectre"===t.mode&&t.spectre.length?(c=r,a=t.spectre):"hand"===t.mode&&t.hand[0]&&t.hand[1]&&(e.push(t.hand),n[r]=0)})),a){if(e.length<1)return;var i=L(e,a,x.filter(U))();l(!0),function e(){return setTimeout((function(){var a=i.next();if(a.done)l(!1);else{var o=0;for(var s in n)n[s]=a.value[o],o++;r(t.map((function(e,t){return void 0!==n[t]?Object(u.a)(Object(u.a)({},e),{},{percent:n[t]}):t===c?Object(u.a)(Object(u.a)({},e),{},{percent:a.value[a.value.length-1]}):e}))),e()}}),5)}()}else{if(e.length<2)return;l(!0),setTimeout((function(){var a=function(e,n){var t=R(e,n),r=t.wins,a=t.total,c=r.map((function(e){return Number((e/a*100).toFixed(2))}));return I(c)}(e,x.filter(U)),c=0;for(var i in n)n[i]=a[c],c++;r(t.map((function(e,t){return n[t]?Object(u.a)(Object(u.a)({},e),{},{percent:n[t]}):e}))),l(!1)}))}}},"COMPUTE"),c.a.createElement("button",{className:"action-button",onClick:function(){var e=t.reduce((function(e,n){return"hand"===n.mode&&n.hand[0]&&n.hand[1]?(e.hands.push(n.hand.join("")),e.percents.push(String(n.percent))):"spectre"===n.mode&&n.spectre.length&&(e.hands.push(n.spectre.join(",")),e.percents.push(String(n.percent))),e}),{hands:[],percents:[]}),n=e.hands,r=e.percents;if(n.length){var a=document.createElement("textarea");a.value=n.join(" vs ")+" - "+r.join(" vs "),a.setAttribute("readonly",""),a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}}},"COPY"))),c.a.createElement("div",{className:"right-row"},p&&c.a.createElement(h,{selected:W,selectCard:function(e){if(-1!==D)return T(x.map((function(n,t){return t===D?e:n}))),void(D>1?_(!1):K(D+1));var n=P.current_card_index;r(t.map((function(t,r){return r===H?Object(u.a)(Object(u.a)({},P),{},{hand:0===n?[e,void 0]:[P.hand[0],e],current_card_index:n+1}):t}))),1===n&&_(!1)}}),E&&"spectre"===P.mode&&c.a.createElement(k,{current_hands:P.spectre,selectHands:function(e){r(t.map((function(n,t){return t===H?{mode:"spectre",spectre:e}:n})))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.11253118.chunk.js.map
(this.webpackJsonpshortdeck=this.webpackJsonpshortdeck||[]).push([[0],{10:function(e,n,t){e.exports=t(18)},15:function(e,n,t){},16:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var r,a=t(0),c=t.n(a),i=t(9),o=t.n(i),u=(t(15),t(3)),l=t(2),s=t(1),d=function(e){var n=e.card,t=e.onClick,r=e.disabled,a="card card__suite-"+n[1];return r&&(a+=" card__disabled"),c.a.createElement("div",{className:a,onClick:r?void 0:t},n)},f=["c","s","h","d"].reduce((function(e,n){return"6789TJQKA".split("").reverse().forEach((function(t){e.push(t+n)})),e}),[]),m=function(e){var n=e.selectCard,t=e.selected;return c.a.createElement("div",{className:"card-list"},f.map((function(e,r){return c.a.createElement(d,{key:r,card:e,onClick:function(){return n(e)},disabled:t.includes(e)})})))},h=function(e){var n=e.onClick;return c.a.createElement("div",{className:"card card__empty",onClick:n},"#")},p=function(e){var n=e.cards,t=e.selectCard,r=e.className;return c.a.createElement("div",{className:r},n.map((function(e,n){return e?c.a.createElement(d,{key:n,card:e,onClick:function(){return t(n)}}):c.a.createElement(h,{key:n,onClick:function(){return t(n)}})})))},v=function(e){var n=e.hand,t=e.select,r=e.selected,a=2===n.length?"hand__pair":"s"===n[2]?"hand__suited":"hand__offsuite";return c.a.createElement("div",{onClick:function(){return t(n)},className:"hand ".concat(a).concat(r?" hand__selected":"")},n)},b=["A","K","Q","J","T","9","8","7","6"],_=b.map((function(e,n){return b.map((function(t,r){return e===t?e+t:n>r?t+e+"s":e+t+"o"}))})),O=function(e){var n=e.selectHands,t=e.currentHands,r=Object(a.useState)(t),i=Object(l.a)(r,2),o=i[0],u=i[1],s=function(e){o.includes(e)?u(o.filter((function(n){return n!==e}))):u(o.concat(e))};return c.a.createElement("div",{className:"spectre"},_.map((function(e,n){return c.a.createElement("div",{key:n,className:"spectre__row"},e.map((function(e,n){return c.a.createElement(v,{key:n,selected:o.includes(e),select:s,hand:e})})))})),c.a.createElement("button",{onClick:function(){return n(o)}},"SELECT"))},E=(t(16),t(7)),k=t.n(E),j=t(6),g="6789TJQKA".split("").reduce((function(e,n){return["c","s","h","d"].forEach((function(t){e.push(n+t)})),e}),[]);!function(e){e[e.ROYAL_FLUSH=0]="ROYAL_FLUSH",e[e.STRAIGHT_FLUSH=1]="STRAIGHT_FLUSH",e[e.FOUR_OF_A_KIND=2]="FOUR_OF_A_KIND",e[e.FLUSH=3]="FLUSH",e[e.FULL_HOUSE=4]="FULL_HOUSE",e[e.STRAIGHT=5]="STRAIGHT",e[e.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",e[e.TWO_PAIRS=7]="TWO_PAIRS",e[e.ONE_PAIR=8]="ONE_PAIR",e[e.HIGH_HAND=9]="HIGH_HAND"}(r||(r={}));var H=function(e){14===e[0]&&(e=[].concat(Object(s.a)(e),[5]));var n,t=0,r=1,a=Object(j.a)(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(t-1===c){if(5===++r)return c+4}else t!==c&&(r=1);t=c}}catch(i){a.e(i)}finally{a.f()}},S={A:14,K:13,Q:12,J:11,T:10,9:9,8:8,7:7,6:6},A=function(e,n){return e.filter((function(e){return!n.includes(e)}))},N=function(e){return{value:S[e[0]],suit:e[1]}},C=function(e,n){var t=e.map((function(e){return function(e,n){var t,a=[].concat(Object(s.a)(n.map(N)),Object(s.a)(e.map(N))).sort((function(e,n){return n.value-e.value})),c=a.map((function(e){return e.value})),i={s:[],c:[],d:[],h:[]},o={},u=Object(j.a)(a);try{for(u.s();!(t=u.n()).done;){var l=t.value,d=l.suit,f=l.value;i[d].push(f),o[f]=(o[f]||0)+1}}catch(T){u.e(T)}finally{u.f()}for(var m=void 0,h=0,p=Object.values(i);h<p.length;h++){var v=p[h];if(v.length>4){m=v;break}}if(m){var b=H(m);if(b)return 14===b?{combination:r.ROYAL_FLUSH,kicker:[]}:{combination:r.STRAIGHT_FLUSH,kicker:[b]}}var _=[],O=[];for(var E in o){var k=Number(E),g=o[k];if(4===g)return{combination:r.FOUR_OF_A_KIND,kicker:[k,A(c,[k])[0]]};3===g&&_.push(k),2===g&&O.push(k)}if(m)return{combination:r.FLUSH,kicker:m.slice(-5)};if(2===_.length)return{combination:r.FULL_HOUSE,kicker:[_[1],_[0]]};if(_.length&&O.length)return{combination:r.FULL_HOUSE,kicker:[_[0],O[O.length-1]]};var S=H(c);if(S)return{combination:r.STRAIGHT,kicker:[S]};if(_.length)return{combination:r.THREE_OF_A_KIND,kicker:[_[0]].concat(Object(s.a)(A(c,_).slice(0,2)))};if(O.length>1){var C=O.slice(-2);return{combination:r.TWO_PAIRS,kicker:[C[1],C[0],A(c,C)[0]]}}return 1===O.length?{combination:r.ONE_PAIR,kicker:[O[0]].concat(Object(s.a)(A(c,O).slice(0,4)))}:{combination:r.HIGH_HAND,kicker:c.slice(0,5)}}(e,n)})),a=[],c=10;t.forEach((function(e,n){var t=e.combination,r=e.kicker;t<c?(c=t,a=[{index:n,kicker:r}]):t===c&&a.push({index:n,kicker:r})}));var i=[],o=[-1/0];return a.forEach((function(e){for(var n=e.kicker,t=e.index,r=0;r<n.length;r++){if(n[r]>o[r]){o=n,i=[t];break}if(n[r]!==o[r])break;r===o.length-1&&i.push(t)}})),i},T=["c","s","d","h"],F=T.reduce((function(e,n){return T.forEach((function(t){n!==t&&e.push([n,t])})),e}),[]),y=T.reduce((function(e,n,t){return T.forEach((function(r,a){t<a&&e.push([n,r])})),e}),[]),I=function(e){var n=e.reduce((function(e,n){return e-n}),100)/e.length;return e.map((function(e){return Number((e+n).toFixed(2))}))},x=function(e,n){var t=e.flat(),r=Array(e.length).fill(0),a=0;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(5===n.length)return[n];for(var t=g.filter((function(t){return!n.includes(t)&&!e.includes(t)})),r=[n],a=[],c=function(){var e=t.pop();r.forEach((function(n){4===n.length?a.push(n.concat(e)):n.length+t.length>3&&r.push(n.concat(e))}))};t.length;)c();return a}(t,n).forEach((function(n){a+=1;var t=C(e,n);t.forEach((function(e){r[e]+=1/t.length}))})),{wins:r,total:a}},L=function(e,n,t){var r=e.flat().concat(t),a=function(e){return e.reduce((function(e,n){var t=n.split(""),r=Object(l.a)(t,3),a=r[0],c=r[1],i=r[2];return 2===n.length?e.push.apply(e,Object(s.a)(y.map((function(e){var n=Object(l.a)(e,2),t=n[0],r=n[1];return[a+t,c+r]})))):"s"===i?e.push.apply(e,Object(s.a)(T.map((function(e){return[a+e,c+e]})))):e.push.apply(e,Object(s.a)(F.map((function(e){var n=Object(l.a)(e,2),t=n[0],r=n[1];return[a+t,c+r]})))),e}),[])}(n).filter((function(e){return!r.includes(e[0])&&!r.includes(e[1])}));return k.a.mark((function n(){var r,c,i,o,u;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Array(e.length+1).fill(0),c=0,i=Object(j.a)(a),n.prev=3,u=k.a.mark((function n(){var a,i,u,l,d;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=o.value,i=x([].concat(Object(s.a)(e),[a]),t),u=i.wins,l=i.total,console.log(u,l),r=r.map((function(e,n){return e+u[n]})),c+=l,d=r.map((function(e){return Number((e/c*100).toFixed(2))})),n.next=8,I(d);case 8:case"end":return n.stop()}}),n)})),i.s();case 6:if((o=i.n()).done){n.next=10;break}return n.delegateYield(u(),"t0",8);case 8:n.next=6;break;case 10:n.next=15;break;case 12:n.prev=12,n.t1=n.catch(3),i.e(n.t1);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[3,12,15,18]])}))},R=[{mode:"hand",is_hero:!0,hand:[void 0,void 0],current_card_index:0}].concat(Object(s.a)(Array(4).fill(0).map((function(){return{mode:"hand",hand:[void 0,void 0],current_card_index:0}})))),U=function(e){return!!e};var w=function(){var e=Object(a.useState)(R),n=Object(l.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),s=o[0],d=o[1],f=Object(a.useState)(!1),h=Object(l.a)(f,2),v=h[0],b=h[1],_=Object(a.useState)(!1),E=Object(l.a)(_,2),k=E[0],j=E[1],g=Object(a.useState)(0),H=Object(l.a)(g,2),S=H[0],A=H[1],N=Object(a.useState)([void 0,void 0,void 0,void 0,void 0]),C=Object(l.a)(N,2),T=C[0],F=C[1],y=Object(a.useState)(-1),w=Object(l.a)(y,2),D=w[0],K=w[1],P=t[S],G=function(e){return function(n){var a=t[e];A(e),K(-1),"hand"===a.mode&&(r(t.map((function(t,r){return r===e?Object(u.a)(Object(u.a)({},a),{},{hand:0===n?[void 0,void 0]:[a.hand[0],void 0],current_card_index:n}):t}))),b(!0))}},J=t.map((function(e,n){return e.is_hero?c.a.createElement(c.a.Fragment,null,"Hero",void 0!==e.percent&&c.a.createElement("span",{className:"win_percent"},e.percent),c.a.createElement(p,{className:"player",cards:e.hand,selectCard:G(n)})):c.a.createElement(c.a.Fragment,null,"Player",n+1,c.a.createElement("button",{onClick:function(){return function(e){var n=t.findIndex((function(e){return"spectre"===e.mode}));r(t.map((function(t,r){return r===n?{mode:"hand",hand:[void 0,void 0],current_card_index:0}:r===e?{mode:"spectre",spectre:[]}:t})))}(n)}},"$$$"),void 0!==e.percent&&c.a.createElement("span",{className:"win_percent"},e.percent),"spectre"===e.mode?c.a.createElement("button",{className:"show_spectre",onClick:function(){return A(n),void j(!0)}},e.spectre.join(",")||"SELECT SPECTRE"):c.a.createElement(p,{className:"player",cards:e.hand,selectCard:G(n)}))})),W=t.reduce((function(e,n){return"hand"===n.mode?e.concat(n.hand.filter(U)):e}),T.filter(U));return c.a.createElement("div",{className:"calculator"},J,"BOARD",c.a.createElement(p,{className:"board",selectCard:function(e){K(e),b(!0)},cards:T}),s?c.a.createElement("div",{className:"loader"},"Loading..."):c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){var e=[],n={},a=void 0,c=void 0;if(t.forEach((function(t,r){"spectre"===t.mode&&t.spectre.length?(c=r,a=t.spectre):"hand"===t.mode&&t.hand[0]&&t.hand[1]&&(e.push(t.hand),n[r]=0)})),a){var i=L(e,a,T.filter(U))();d(!0),function e(){return setTimeout((function(){var a=i.next();if(a.done)d(!1);else{var o=0;for(var l in n)n[l]=a.value[o],o++;r(t.map((function(e,t){return void 0!==n[t]?Object(u.a)(Object(u.a)({},e),{},{percent:n[t]}):t===c?Object(u.a)(Object(u.a)({},e),{},{percent:a.value[a.value.length-1]}):e}))),e()}}),5)}()}else d(!0),setTimeout((function(){var a=function(e,n){var t=x(e,n),r=t.wins,a=t.total,c=r.map((function(e){return Number((e/a*100).toFixed(2))}));return I(c)}(e,T.filter(U)),c=0;for(var i in n)n[i]=a[c],c++;r(t.map((function(e,t){return n[t]?Object(u.a)(Object(u.a)({},e),{},{percent:n[t]}):e}))),d(!1)}))}},"COMPUTE"),c.a.createElement("button",{onClick:function(){var e=t.reduce((function(e,n){return"hand"===n.mode&&n.hand[0]&&n.hand[1]?(e.hands.push(n.hand.join("")),e.percents.push(String(n.percent))):"spectre"===n.mode&&n.spectre.length&&(e.hands.push(n.spectre.join(",")),e.percents.push(String(n.percent))),e}),{hands:[],percents:[]}),n=e.hands,r=e.percents;if(n.length){var a=document.createElement("textarea");a.value=n.join(" vs ")+" - "+r.join(" vs "),a.setAttribute("readonly",""),a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)}}},"COPY")),v&&c.a.createElement(m,{selected:W,selectCard:function(e){if(-1!==D)return F(T.map((function(n,t){return t===D?e:n}))),void(D>1?b(!1):K(D+1));var n=P.current_card_index;r(t.map((function(t,r){return r===S?Object(u.a)(Object(u.a)({},P),{},{hand:0===n?[e,void 0]:[P.hand[0],e],current_card_index:n+1}):t}))),1===n&&b(!1)}}),v&&c.a.createElement("button",{onClick:function(){return b(!1)}},"HIDE CARDLIST"),k&&"spectre"===P.mode&&c.a.createElement(O,{currentHands:P.spectre,selectHands:function(e){r(t.map((function(n,t){return t===S?{mode:"spectre",spectre:e}:n}))),j(!1)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.f6c5a98b.chunk.js.map